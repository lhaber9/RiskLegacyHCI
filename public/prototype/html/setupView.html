<div class="row">
    <div class="col-xs-2 col-xs-offset-5">
        <h3>Setup</h3>
    </div>
</div>

<div class="container-fluid">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Faction</th>
                <th>Color</th>
                <th>Starting Territory</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="player in $rootScope.players">
                <td>{{player.name}}</td>
                <td>{{player.faction.name}}</td>
                <td style="background-color:{{player.faction.color}};"></td>
                <td>{{player.startingTerritory}}</td>
                <td><span ng-click="removePlayer(player)" class="glyphicon glyphicon-remove fa-2x"></span></td>
            </tr>
            <tr ng-show="$rootScope.players.length < 5">
                <td><input ng-model="newForm.name" type="text" name="name" id="name" placeholder="Name"></td>
                <td>
                    <div class="dropdown">
                      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        {{newForm.faction.name == "" ? "faction" : newForm.faction.name}}
                        <span class="caret"></span>
                      </button>
                      <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                          <li ng-repeat="faction in availableFactions" ng-click="chooseFaction(faction)"><a href="">{{faction.name}}</a></li>
                        </ul>
                    </div>
                </td>
                <td style="background-color:{{newForm.faction.color}};"></td>
                <td><input class="territoryInput" ng-model="newForm.startingTerritory" type="text" name="territory" id="territory" placeholder="Territory"></td>
                <td></td>
            </tr>
        </tbody>
    </table>
</div>

<button ng-click="addPlayer()">Add Player</button>

<div class="col-xs-12" style="height:50px;"></div>

<div class="container-fluid">
	<div class="row">
		<div class="col-xs-8">
			<p>
				Welcome to Risk Legacy Battle Companion! Enter your players and click Start to begin.
			</p>
		</div>
		<div class="col-xs-4">
			<button class="btn-block" ng-click="tryStart()">START</button>
		</div>
	</div>
</div>


<button id="confirmUnsaveModalButton" data-toggle="modal" data-target="#confirmUnsaveModal" ng-show="false"></button>

<div id="confirmUnsaveModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Unsaved Player!</h4>
            </div>
            <div class="modal-body">
                You entered information for a player that you didn't save! Would you like to continue without this player?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="closePopup()">Go Back</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="doStart()">Continue</button>
            </div>
        </div>

    </div>
</div>

<button id="confirmEmptyModalButton" data-toggle="modal" data-target="#confirmEmptyModal" ng-show="false"></button>

<div id="confirmEmptyModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">No Player!</h4>
            </div>
            <div class="modal-body">
                You have not entered any players!
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="closePopup()">Go Back</button>
            </div>
        </div>

    </div>
</div>

